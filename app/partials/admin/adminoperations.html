<div class="container adminmain-wrap">
	<div class="row">
		<div class="container">
			<div class="col-md-9 myaccount-left">
				<div class="row">
					<div class="tab-content">
						<div class="tab-pane active" id="tab1">
							<h2>Manage Vendors</h2>
							<div class="row">
								<div class="col-md-12">
									<div class="tabbable-panel">
										<div class="tabbable-line">
											<ul class="nav nav-tabs ">
												<li class="active"><a href="#tab_default_1" data-toggle="tab">Create Vendor</a></li>
												<li><a href="#tab_default_2" data-toggle="tab">Manage Vendor</a></li>
											</ul>
											<div class="tab-content">
												<div class="tab-pane active" id="tab_default_1">
													<form>
														<div class="row">
															<div class='form-row'>
																<div class='col-md-12 form-group'>
																	<label class='control-label'>Vendor Name</label>
																	<input class='form-control' ng-model='avname' type='text'>
																</div>   
															</div>
															<div class='form-row'>
																<div class='col-md-12 form-group'>
																	<label class='control-label'>Email Address</label>
																	<input autocomplete='off' class='form-control' ng-model='avemail' size='20' type='text'>
																</div>
															</div>
															<div class='form-row'>
																<div class='col-md-12 form-group'>
																	<label class='control-label'>Mobile Number</label>
																	<input class='form-control' ng-model='avmobilenumber' type='text'>
																</div>
															</div>
															<div class='form-row'>
																<div class='col-md-8 form-group'>
																	<label class='control-label'>Password</label>
																	<input autocomplete='off' ng-model='avpassword' class='form-control' size='20' type='text'>
																</div>
																<div class="col-md-4">
																	<button class="btn btn-default" ng-click='generatePassword()'>Generate Password</button>
																</div>
															</div>
															<div class="clearfix"></div>
															<div class='form-row'>
																<div class='col-md-3 form-group'>
																	<button class="bookbtn" ng-click="cretevendoraccount()">Create</button>
																</div>
															</div>
														</div>
													</form>
												</div>
												<div class="tab-pane" id="tab_default_2">
													<div class="row">
														<div class="col-md-6 form-group">
															<label class='control-label'>Select Vendor</label><br>
															<select class="minimal" ng-model="selectedvendor" ng-options="item.vid as item.name for item in vendorlist" ng-change='bindvendordetails()'>
																<option value="">Select Vendor</option>
															</select> 
														</div>
													</div>
													<form>
														<div class="row">
															<div class="form-row">
																<div class="col-md-12 form-group">
																	<label class="control-label">Vendor Name</label>
																	<input class="form-control" ng-model='evname' type="text">
																</div>   
															</div>
															<div class="form-row">
																<div class="col-md-12 form-group">
																	<label class="control-label">Contact Person</label>
																	<input class="form-control" ng-model='evcperson' type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Mobile Number</label>
																	<input class="form-control" ng-model='evmobilenumber' type="text">
																</div>
																<div class="col-md-6 form-group">
																	<label class="control-label">Alternate Contact Number</label>
																	<input class="form-control" ng-model='evalternatenumber' type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-12 form-group">
																	<label class="control-label">Email Address</label>
																	<input autocomplete="off" ng-model='evemail' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-12 form-group">
																	<label class="control-label">Address</label>
																	<input autocomplete="off" class="form-control" ng-model='evaddress' size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Experience</label>
																	<input autocomplete="off" ng-model='evexp' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">No. of cabs in fleet</label>
																	<input autocomplete="off" ng-model='evcabs' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Founder Name</label>
																	<input autocomplete="off" ng-model='evfname' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Founder email address</label>
																	<input autocomplete="off" ng-model='evfemail' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Service Location</label>
																	<input autocomplete="off" ng-model='evslocation' class="form-control" size="20" type="text">
																</div>
															</div>
															<div class="form-row">
																<div class="col-md-6 form-group">
																	<label class="control-label">Vendor phone number</label>
																	<input autocomplete="off" ng-model='evphonenumber' class="form-control" size="20" type="text">
																</div>
															</div>
                                                            <div class="form-row">
                                                                <div class="col-md-6 form-group">
                                                                    <label class="control-label">Vendor City</label>
                                                                    <select class="minimal" data-ng-options="item.key as item.value for item in citylist track by item.key" data-ng-model="selectedcity">
                                                                        <option value="">Select City</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="col-md-6 form-group">
                                                                    <label class="control-label">Vendor State</label>
                                                                    <select class="minimal" data-ng-options="item.key as item.value for item in statelist track by item.key" data-ng-model="selectedstate">
                                                                        <option value="">Select State</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="col-md-12 form-group">
                                                                    <label class="control-label">Vendor Pincode</label>
                                                                   <input autocomplete="on" data-ng-model="vendorpincode" class="form-control" maxlength="6" />
                                                                </div>
                                                            </div>
															<div class="form-row">
																<div class="col-md-4 form-group">
																	<button class="btn btn-default" ng-click='updatesavevendor()'>Update &amp; Save</button>
																</div>
															</div>
														</div>
													</form>	

													<table datatable='ng' dt-options='dtOptions' dt-instace='dtInstance' class="table table-responsive">
														<thead>
															<tr>
																<th>Cab Type</th>
																<th>Cab Model</th>
																<th>Cab Service</th>
																<th>Price /km</th>
																<th>Hrs (for Hourly Package)</th>
																<th>Actions</th>
															</tr>
														</thead>
														<tbody>
															<tr scope='row' ng-repeat="item in cabprices">
																<td>{{item.cabtype}}</td>
																<td>{{item.vcmid}}</td>
																<td>{{item.cabservice}}</td>
																<td>{{item.cpkm}}</td>
																<td>
																	<label ng-if="item.cunitsph!='0'">{{item.cunitsph}}</label>
																</td>
																<td>
																	<button class="btn btn-default col-md-6" ng-click="updateprices($index)">Edit</button>
																	<button class="btn btn-default col-md-6" ng-click="deletecabprice($index)">Delete</button>
																</td>
															</tr>
														</tbody>
														<tfoot>
															<tr>
																<td>
																	<select class="minimal" ng-model="evcabtypes" ng-options='item.ctid as item.ctype for item in cabtypes'>
																		<option value="">Cab Type</option>
																	</select>
																</td>
																<td>
																	<input type="text" class="form-control" ng-model="evcabmodel" placeholder="Cab Model (Eg. Indica)" />
																</td>
																<td>
																	<select class="minimal" ng-model='evendorcabservices' ng-options='item.sid as item.service for item in cabservices'>
																		<option value="">Service Type</option>
																	</select>
																</td>
																<td>
																	<input type="text" value="" class="form-control" ng-model='evcabprice' placeholder="Price /km"/>
																</td>
																<td>
																	<input type="text" class="form-control" ng-model='vhours' placeholder="Hours" />
																</td>
																<td>
																	<button class="btn btn-default col-md-6" ng-hide='isedit' ng-click='savecabprice()'>Add</button>
																	<button class="btn btn-default col-md-6" ng-hide='!isedit' ng-click='updatecabprice()'>Update</button>  
																	<button class="btn btn-default col-md-6" ng-click='clearprices()'>Clear</button>
																</td>
															</tr>
														</tfoot>
													</table>

													<table datatable='ng' dt-options='dtOptions' dt-instace='dttermsinstace' class="table table-responsive">
														<thead>
															<tr>
																<th>Cab Model</th>
																<th>Terms and Conditions</th>
																<th>Action</th>
															</tr>
														</thead>
														<tbody>
															<tr ng-repeat="item in termscond">
																<td>{{item.cabmodel}}</td>
																<td>{{item.terms}}</td>
																<td>
																	<button type="button" class="btn btn-default col-md-6" ng-click="editterms($index)">Edit</button>
																	<div class="col-md-6">
																		<button class="btn btn-default" ng-click="deleteterms($index)">Delete</button>
																	</div>
																</td>
															</tr>
														</tbody>
														<tfoot>
															<tr>
																<td>
																	<select class="minimal" ng-model="termsselectedmodel" ng-options="item.cabmodel as item.cabmodel for item in cabmodel">
																		<option value="">Cab Model</option>
																	</select>
																</td>
																<td>
																	<input type="text" class="form-control" ng-model="evterms" placeholder='Terms and Conditions' />
																</td>
																<td>
																	<button type="button" class="btn btn-default" ng-hide="istermsupdate" ng-click='addterms()'>Add</button>
																	<button class="btn btn-default" ng-hide='!istermsupdate' ng-click='updateterms()'>Update</button>
																	<button class="btn btn-default" ng-click='clearterms()'>Clear</button>
																</td>
															</tr>
														</tfoot>
													</table>
												</div>							  
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="tab-pane" id="tab2">
							<h2>Manage Users</h2>
							<table datatable="ng" dt-options="dtOptions" class="table table-responsive">
								<thead>
									<tr>
										<th>Name</th>
										<th>Email ID</th>
										<th>Address</th>
										<th>Phone No</th>
										<!-- <th>Actions</th> -->
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in allusers">
										<td>{{item.fname}} {{item.lname}}</td>
										<td>{{item.email}}</td>
										<td>{{item.address1}}</td>
										<td>{{item.mobile}}</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="tab-pane" id="tab3">
							<div class="col-md-12">
								<button class="btn btn-default pull-right" ng-click="reloadbookinginfo()">Reload</button>
							</div>
							<h2>View all bookings</h2>
							<style type="text/css">
								#DataTables_Table_2_wrapper{
									margin-bottom: 30px;
								}
							</style>
							<table datatable="ng" dt-options="dtOptions" dt-instance="dtbookinginstance" class="table table-responsive">
								<thead>
									<tr>
										<th>Booking ID</th>
										<th>Type of Service</th>
										<th>Date &amp; time</th>
										<th>Pickup Location</th>
										<th>Drop Location</th>
										<th>Booking Status</th>
										<th>Vendor</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in cabbooking">
										<td>{{item.transid}}</td>
										<td>{{item.servicetype}}</td>
										<td>{{item.bdatetime}}</td>
										<td>{{item.bfl}}</td>
										<td>{{item.btl}}</td>
										<td>{{item.bstatus}}</td>
										<td>{{item.servicename}}</td>
										<td>
											<button class="btn btn-default" ng-click="showpopup($index)">Enter details</button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="loadmore"></div>
					</div>
				</div>
			</div>
			
			<div class="col-md-3">
				<nav class="nav-sidebar">
					<ul class="nav tabs">
						<li class="active"><a href="#tab1" data-toggle="tab">Manage Vendors</a></li>
						<li class=""><a href="#tab2" data-toggle="tab">Manage Users</a></li>
						<li class=""><a href="#tab3" data-toggle="tab">All Bookings</a></li>
						<li class=""><a href="#" ng-click="signout()">Sign out</a></li>
					</ul>
				</nav>
			</div>
		</div> 
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="managebookings" tabindex="-1" role="dialog" aria-labelledby="managebookingslbl">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="managebookingslbl">Enter details</h4>
			</div>
			<div class="modal-body">
				<form name="cabdetails">
					<div class="form-group">
						<label>Booking ID : {{bookingtransactionid}}</label>
					</div>
					<div class="form-group">
						<label>Cab Registration number <span class="req">*</span></label>
						<input type="text" name="cabregno" class="form-control" ng-model="cabregno" ng-required="true" />
					</div>
					<div class="form-group">
						<label>Cab driver name <span class="req">*</span></label>
						<input type="text" name="cabdrivername" class="form-control" ng-model="cabdrivername" ng-required="true" />
					</div>
					<div class="form-group">
						<label>Cab driver mobile number <span class="req">*</span></label>
						<input type="text" name="cabdriverno" class="form-control" ng-model="cabdriverno" ng-required="true" />
					</div>
					<div class="form-group">
						<label>Status <span class="req">*</span></label>
						<select class="form-control" ng-model="cabstatus" ng-required="true">
							<option value="">Select booking status</option>
							<option value="Confirmed">Confirmed</option>
							<option value="Pending">Pending</option>
							<option value="Cancelled">Cancelled</option>
						</select>
					</div>
					<div class="modal-footer">
						<div class="col-md-4">
							<button class="blackbtn" ng-click="cleardetaisform()">Clear</button>
						</div>
						<div class="col-md-4">
							<button ng-click="confirmbooking(cabdetails.$invalid)" class="bookbtn">Save &amp; Confirm</button>
						</div>
						<div class="col-md-4 ng-hide">
							<button class="bookbtn">Send Email & SMS</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>